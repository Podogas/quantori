<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Document</title>
</head>
<body>
    <main class="screen">
        <section class="cubic-screen">
            <section class="cubic-screen__container">
                <div class="cube__wrapper">
                    <figure class="cube__edge cube__edge_right">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>
                    <figure class="cube__edge cube__edge_left">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>
                    <figure class="cube__edge cube__edge_front">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>
                    <figure class="cube__edge cube__edge_back">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>
                    <figure class="cube__edge cube__edge_top">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>
                    <figure class="cube__edge cube__edge_bottom">
                        <div class="horizontal-movement-wrapper">
                            <div class="vertical-movement-wrapper">
                                <img class="dvd-logo dvd-logo_first" src="./dvd_logo.png" alt="dvd logo">
                            </div>
                        </div>
                    </figure>  
                </div>
            </section>
        </section>
    </div>
</main>
<audio id="audio" >
    <source src="./audio/laserSFX.mp3" type="audio/mp3">
</audio>
<audio id="audio1" >
    <source src="./audio/laserSFX.mp3" type="audio/mp3">
</audio>

<script>    
const horizontalMovementWrapperElList = Array.from(document.getElementsByClassName('horizontal-movement-wrapper')); 
const verticalMovementWrapperElList = Array.from(document.getElementsByClassName('vertical-movement-wrapper'));          
const audioEl = document.getElementById('audio');
const audioEl1 = document.getElementById('audio1');

// horizontalMovementWrapperEl.onresize = () => {console.log(1)}
const dvd = document.getElementById('dvd');
console.log(verticalMovementWrapperElList) 
setInterval(test, 5)
function test(){
    horizontalMovementWrapperElList.forEach(element => {
        const horComputedStyle = window.getComputedStyle(element);
        let isAlreadyTicked = false;
        if(horComputedStyle.getPropertyValue('content') !== 'normal' && isAlreadyTicked == false){
            const clickSound = new Audio('./audio/Hi-Hat.mp3');
            clickSound.play().catch(function (error) {
            console.log("Chrome cannot play sound without user interaction first")});
            isAlreadyTicked = true;
        }
        if(horComputedStyle.getPropertyValue('content') == 'normal'){
                isAlreadyTicked == false;
            }
    })
    verticalMovementWrapperElList.forEach(element => {
        const verComputedStyle = window.getComputedStyle(element);
        let isAlreadyTicked = false;
        const clickSound = new Audio('./audio/Hi-Hat.mp3');
        console.log(verComputedStyle.getPropertyValue('content'))
        if( verComputedStyle.getPropertyValue('content') !== 'normal' && isAlreadyTicked == false){
            clickSound.play().catch(function (error) {
            console.log("Chrome cannot play sound without user interaction first")});
            isAlreadyTicked = true;
        }
        if(verComputedStyle.getPropertyValue('content') == 'normal'){
            isAlreadyTicked == false;
            } 
    })
    
// const horComputedStyle = window.getComputedStyle(horizontalMovementWrapperElList[0]);
// const verComputedStyle = window.getComputedStyle(verticalMovementWrapperElList[0]);


}

</script>
</body>
</html>